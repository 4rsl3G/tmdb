<div id="pjax-page"
     data-title="<%= pageMeta?.title %>"
     data-desc="<%= pageMeta?.desc %>"
     data-canonical="<%= pageMeta?.canonical %>">

  <article class="postWrap" data-aos="fade-up">

    <div class="postHero shine sweep">
      <div class="postHeroGrid">
        <div class="postPoster tilt" data-tilt>
          <div class="posterFrame posterFrameBig">
            <% if (post.poster_url) { %>
              <img loading="lazy" referrerpolicy="no-referrer" src="<%= post.poster_url %>" alt="<%= post.title %> poster"/>
            <% } else { %>
              <div class="poster-fallback">No poster</div>
            <% } %>
          </div>
        </div>

        <div class="postInfo">
          <div class="postTitleRow">
            <h1 class="postTitle"><%= post.title %></h1>
            <span class="pill pill-hot"><span class="miniDot"></span>Watch</span>
          </div>

          <div class="postMetaRow">
            <span class="pill"><span class="miniDot"></span><%= post.release_year || "Movie" %></span>
            <% if (post.vote_average) { %>
              <span class="pill"><span class="miniDot"></span>‚≠ê <%= (post.vote_average||"").toString().slice(0,3) %></span>
            <% } %>
            <% if (post.runtime) { %>
              <span class="pill"><span class="miniDot"></span><%= post.runtime %> min</span>
            <% } %>
          </div>

          <p class="postLead"><%= (post.excerpt || "").slice(0, 220) %></p>

          <div class="postCtas">
            <a class="btnx btnx-primary btnx-big" href="#" onclick="history.back();return false;">Back</a>
            <a class="btnx btnx-ghost btnx-big" href="/" data-pjax>Home</a>
          </div>

          <div class="postNote muted small">
            Tip: Scroll for details. Animations are lightweight and mobile-friendly.
          </div>
        </div>
      </div>
    </div>

    <section class="postBody" data-aos="fade-up" data-aos-delay="120">
      <% if (post.content) { %>
        <div class="postContent"><%- post.content %></div>
      <% } else { %>
        <div class="postContent">
          <p><%= post.excerpt || "Details are being prepared." %></p>
        </div>
      <% } %>
    </section>

    <!-- JSON-LD (aman, ringkas) -->
    <script type="application/ld+json">
      <%- JSON.stringify({
        "@context":"https://schema.org",
        "@type":"Movie",
        "name": post.title,
        "datePublished": post.release_year ? String(post.release_year) : undefined,
        "image": post.poster_url || undefined,
        "aggregateRating": post.vote_average ? { "@type":"AggregateRating", "ratingValue": Number(post.vote_average), "ratingCount": Number(post.vote_count || 1) } : undefined,
        "url": pageMeta?.canonical || undefined
      }) %>
    </script>

  </article>
</div>
